<div class="form-inline">
  <div class="form-group mb-2">
    <label class="mr-2">
      Filtro:  
    </label>
    <input type="text" class="form-control mr-2" placeholder="Buscar" [(ngModel)]="FiltrarPor">
    <!-- <button class="btn btn-outline-success">Buscar</button> -->
  </div>
</div>

<h5 *ngIf="FiltrarPor">
  Filtrado por: "{{FiltrarPor}}"
</h5>

<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th>#</th>
      <th>Username</th>
      <th>Nome</th>
      <th>Sobrenome</th>
      <th>Empresa</th>
      <th>Email</th>
      <th>Perfil</th>
      <th>Ativo</th>
      <th>Data de Alteração</th>
      <th>Alterado Por</th>
    </tr>
  </thead>
  <tbody *ngIf="UsuariosFiltrados && UsuariosFiltrados.length">
    <tr *ngFor= "let usuario of UsuariosFiltrados">
      <td>{{usuario.id}}</td>
      <td>{{usuario.userName}}</td>
      <!-- <td>{{usuario.senha}}</td> -->
      <td>{{usuario.nome}}</td>
      <td>{{usuario.sobrenome}}</td>
      
      <td *ngIf="usuario.empresa">{{usuario.empresa.nomeFantasia}}</td>
      <td *ngIf="!usuario.empresa"></td>

      <td>{{usuario.email}}</td>
      <td>{{usuario.perfil}}</td>
      <td>{{usuario.ativo}}</td>
      <td>{{usuario.dataAlteracao | DateFormatPipe }}</td>
      <td>{{usuario.alteradoPor}}</td>
    </tr>
  </tbody>
  <tfoot *ngIf="!UsuariosFiltrados || !UsuariosFiltrados.length">
    <tr>
      <td colspan="9" class="text-center">
        <h4>
          Nenhum registro encontrado.
        </h4>
      </td>
    </tr>
  </tfoot>
</table>

<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

  <!-- id Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>#</th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- userName Column -->
  <ng-container matColumnDef="userName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>
    <td mat-cell *matCellDef="let element"> {{element.userName}} </td>
  </ng-container>

  <!-- nome Column -->
  <ng-container matColumnDef="nome">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Nome</th>
    <td mat-cell *matCellDef="let element"> {{element.nome}} </td>
  </ng-container>

  <!-- sobrenome Column -->
  <ng-container matColumnDef="sobrenome">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Sobrenome</th>
    <td mat-cell *matCellDef="let element"> {{element.sobrenome}} </td>
  </ng-container>

  <!-- empresa Column -->
  <ng-container matColumnDef="empresa">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Empresa</th>
    <td mat-cell *matCellDef="let element"> {{element.empresa}} </td>
  </ng-container>

  <!-- email Column -->
  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
  </ng-container>

  <!-- perfil Column -->
  <ng-container matColumnDef="perfil">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Perfil</th>
    <td mat-cell *matCellDef="let element"> {{element.perfil}} </td>
  </ng-container>

  <!-- ativo Column -->
  <ng-container matColumnDef="ativo">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Ativo</th>
    <td mat-cell *matCellDef="let element"> {{element.ativo}} </td>
  </ng-container>

  <!-- dataAlteracao Column -->
  <ng-container matColumnDef="dataAlteracao">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Data de Alteração</th>
    <td mat-cell *matCellDef="let element"> {{element.dataAlteracao}} </td>
  </ng-container>

  <!-- alteradoPor Column -->
  <ng-container matColumnDef="alteradoPor">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Alterado Por</th>
    <td mat-cell *matCellDef="let element"> {{element.alteradoPor}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<h5 *ngIf="dataSource">
  dataSource: "{{dataSource.data}}"
</h5>